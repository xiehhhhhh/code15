# code15
LIBRARY IEEE；
USE IEEE.STD_LOGIC 1164.ALL;
USE WORK.ex_pkg.ALL; 
ENTITY led IS
PORT(clk50m,reset:IN STD LOGIC;
led:OUT   STD_LOGIC_VECTOR(9DOWNTO 0)); 
END led;
ARCHITECTURE one OF led IS
TYPE stype IS(s0,s1,s2,s3,s4,s5,s6,87，s8,s9,
s10, s11,s12,s13,s14,s15,s16,s17,s18, s19)； ——定义枚举数据类型
SIGNAL state:stype; -定义枚举信号
SIGNAL count:STD_LOGIC_VECTOR(22 DOWNTO 0);
SIGNAL clkl0hz:STD_LOGIC;
BEGIN
i1:clk_div 
GENERIC MAP(FREQ => 10) 
PORT MAP (clk=>clk50m, 
clr=>'1',
clk _out=>clk10hz);
PROCESS(clk10hz) --此进程描述状态转移
BEGIN
IF clk10hz'EVENT AND clk10hz='1'THEN
IF reset='0' THEN STATE<=S0 --同步复位
ELSE
CASESTATE IS 
WHEN S0=>STATE<=S1;
WHEN S1=>STATE<=S2;
WHEN S2=>STATE<=S3; 
WHEN S3=>STATE<=S4;
WHEN S4=>STATE<=S5; 
WHEN S5=>STATE<=S6; 
WHEN S6=>STATE<=S7; 
WHEN S7->STATE<=S8;
WHEN S8=>STATE<=S9; 
WHEN S9=>STATE<=S10;
WHEN S10=>STATE<=S11; 
WHEN S11=>STATE<=S12;
WHEN S12=>STATE<=S13; 
WHENs13=>STATE<=S14;
WHEN S14=>STATE<=S15;
WHENS15->STATE<=S16;
WHEN S16=>STATE<=S17;
WHEN S17=>STATE<=S18;
WHEN S18=>STATE<=S19; 
WHEN S19=>STATE<=S0;
WHEN OTHERS=>STATE<=S0;
END CASE;END IF; END IF;
END PROCESS;
